---
title: Blogdown Workflow
author: Curtis Alexander
date: "2017-09-28"
slug: blogdown-workflow
categories: []
tags: ["colophon"]
weight: 1
---



<p>Below is my general workflow for creating a blog post using <a href="https://bookdown.org/yihui/blogdown/">blogdown</a>.</p>
<div id="general-workflow" class="section level2">
<h2>General Workflow</h2>
<ol style="list-style-type: decimal">
<li>Open my project file — <code>open calex.Rproj</code>.</li>
<li>Utilize the <code>Tools -&gt; Addins</code> to select the <code>New Post</code> addin from the <code>blogdown</code> package. Note that I have updated my global Rprofile — <code>~/.Rprofile</code> — to include the following:</li>
</ol>
<pre><code>options(servr.daemon = TRUE,
        blogdown.author = &quot;Curtis Alexander&quot;,
        blogdown.subdir = &quot;blog&quot;,
        blogdown.ext = &quot;Rmd&quot;)</code></pre>
<p>This will create the needed <code>Rmd</code> file within <code>content/blog</code>.</p>
<ol start="3" style="list-style-type: decimal">
<li>Below is a screenshot of the completed <code>New Post</code> addin form for this particular blog post.</li>
</ol>
<p><img src="img/blogdown-workflow.png" style="width: 80%;" /></p>
<ol start="4" style="list-style-type: decimal">
<li><strong>[Optional]</strong> In order to preview locally, utilize <code>Tools -&gt; Addins</code> and the <code>Serve Site</code> addin from the <code>blogdown</code> package. It will run <code>blogdown::serve_site()</code>.</li>
<li>Write up my post using <a href="http://rmarkdown.rstudio.com/">R Markdown</a> flavored markdown and using <a href="https://www.rstudio.com/products/rstudio/#Desktop">RStudio</a> as my IDE.</li>
<li><strong>[Optional]</strong> Cleanup output artifacts using the <code>Build -&gt; More</code> button to run <code>Clean All</code>. This in turn executes the command <code>rmarkdown::clean_site()</code> which removes the directories <code>blogdown</code>, <code>public</code>, and <code>static/rmarkdown-libs</code>.</li>
<li>Next I utilize the <code>Build Website</code> button within RStudio. If I am already serving the site and taking advantage of the <code>servr</code> daemon in step 4, then this step is unneeded. The <code>Build Website</code> button executes <code>rmarkdown::render_site(encoding = 'UTF-8')</code> to convert <code>Rmd</code> files to <code>html</code>. <code>Rmd</code> files within the <code>content/blog</code> directory are ignored by Hugo as my <code>config.toml</code> is setup to ignore such files — <code>ignoreFiles = [&quot;\\.Rmd$&quot;, &quot;\\.Rmarkdown$&quot;, &quot;_files$&quot;, &quot;_cache$&quot;]</code>.</li>
<li><strong>[Optional]</strong> The blogdown <a href="https://bookdown.org/yihui/blogdown/workflow.html">workflow</a> section recommends that one restart their R session and run the command <code>blogdown::hugo_build()</code> within the R console. However, I allow <a href="https://www.netlify.com">netlify</a> to build everything with Hugo so this step is unnecessary.</li>
<li>I then go to the <code>Git</code> menu within RStudio and commit and push my changes. I push everything to a repo within Github.</li>
<li><a href="https://www.netlify.com/">netlify</a> then picks up the changes to the <code>master</code> branch of the Github repo that houses my website. The final <a href="https://gohugo.io/">Hugo</a> command that builds the website is run by netlify. After building, the static site is uploaded to netlify’s CDN.</li>
<li>et voilà!</li>
</ol>
</div>
<div id="caveats" class="section level2">
<h2>Caveats</h2>
<div id="drafts" class="section level3">
<h3>Drafts</h3>
<p>The <a href="https://bookdown.org/yihui/blogdown/content.html#yaml-metadata">blogdown documentation</a> suggests adding the YAML field <code>draft: true</code> to the YAML front matter of a blog post in order to set the post as a draft. In order for this to work properly I had to ensure that <code>builddrafts</code> within my <code>config.toml</code> file was set to <code>false</code>.</p>
</div>
</div>
